<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Metrology Equipment Catalogue</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      max-width: 1200px;
      margin: 0 auto;
      padding: 20px;
      background: #f9f9f9;
      color: #333;
    }
    h1 {
      text-align: center;
      margin-bottom: 20px;
    }
    .controls {
      display: flex;
      flex-wrap: wrap;
      justify-content: space-between;
      margin-bottom: 20px;
      gap: 10px;
      align-items: center;
    }
    .controls input[type="search"] {
      padding: 8px;
      font-size: 16px;
      min-width: 200px;
      max-width: 300px;
      border: 1px solid #ccc;
      border-radius: 4px;
      flex-grow: 1;
    }
    .toggle-group {
      display: flex;
      gap: 10px;
      flex-wrap: wrap;
      align-items: center;
    }
    .toggle-group label {
      cursor: pointer;
      user-select: none;
      padding: 6px 12px;
      border: 1px solid #0073e6;
      border-radius: 4px;
      background: #fff;
      transition: background-color 0.3s ease, color 0.3s ease;
      font-size: 14px;
    }
    .toggle-group input[type="checkbox"] {
      display: none;
    }
    .toggle-group input[type="checkbox"]:checked + label {
      background: #0073e6;
      color: #fff;
    }
    .grid {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 20px;
    }
    @media (max-width: 960px) {
      .grid {
        grid-template-columns: repeat(2, 1fr);
      }
    }
    @media (max-width: 480px) {
      .grid {
        grid-template-columns: 1fr;
      }
    }
    .card {
      background: #fff;
      border-radius: 8px;
      box-shadow: 0 2px 8px rgb(0 0 0 / 0.1);
      overflow: hidden;
      transition: box-shadow 0.3s ease;
      cursor: pointer;
      display: flex;
      flex-direction: column;
      text-align: center;
      user-select: none;
    }
    .card:hover {
      box-shadow: 0 6px 16px rgb(0 0 0 / 0.2);
    }
    .card img {
      width: 100%;
      height: 140px;
      object-fit: cover;
      border-bottom: 1px solid #ddd;
      background: #e0e0e0;
      loading: lazy;
    }
    .card-name {
      padding: 12px;
      font-weight: bold;
      font-size: 18px;
      color: #0073e6;
    }
    .description-panel {
      margin-top: 30px;
      background: #fff;
      border-radius: 8px;
      box-shadow: 0 2px 8px rgb(0 0 0 / 0.1);
      padding: 20px;
      max-width: 700px;
      margin-left: auto;
      margin-right: auto;
      min-height: 120px;
    }
    .description-panel h2 {
      margin-top: 0;
    }
    .no-selection {
      text-align: center;
      color: #666;
      font-style: italic;
      line-height: 120px;
    }
  </style>
</head>
<body>

  <h1>Metrology Equipment Catalogue</h1>

  <div class="controls" aria-label="Search and filter controls">
    <input type="search" id="searchInput" placeholder="Search equipment..." aria-label="Search equipment" />

    <div class="toggle-group" role="group" aria-label="Filter by equipment category">
      <input type="checkbox" id="filterCMM" checked />
      <label for="filterCMM">CMM</label>
      <input type="checkbox" id="filterCalipers" checked />
      <label for="filterCalipers">Calipers</label>
      <input type="checkbox" id="filterMicrometers" checked />
      <label for="filterMicrometers">Micrometers</label>
      <input type="checkbox" id="filterGaugeBlocks" checked />
      <label for="filterGaugeBlocks">Gauge Blocks</label>
      <input type="checkbox" id="filterSurfacePlates" checked />
      <label for="filterSurfacePlates">Surface Plates</label>
      <input type="checkbox" id="filterOptical" checked />
      <label for="filterOptical">Optical Instruments</label>
    </div>
  </div>

  <div id="equipmentGrid" class="grid" aria-live="polite" aria-atomic="true"></div>

  <section id="descriptionPanel" class="description-panel" aria-live="polite" aria-atomic="true" tabindex="0">
    <p class="no-selection">Select an equipment to view its description here.</p>
  </section>

  <script>
    const equipmentData = [
      {
        id: "eq1",
        name: "Coordinate Measuring Machine (CMM)",
        category: "CMM",
        imageUrl: "https://cdn.pixabay.com/photo/2017/08/02/01/28/machine-2568653_1280.jpg",
        description:
          "A device for measuring the physical geometrical characteristics of an object with high precision.",
      },
      {
        id: "eq2",
        name: "Vernier Calipers",
        category: "Calipers",
        imageUrl: "https://cdn.pixabay.com/photo/2016/03/27/18/00/vernier-caliper-1283817_1280.jpg",
        description:
          "A precision instrument used to measure internal and external dimensions in millimeters or inches.",
      },
      {
        id: "eq3",
        name: "Digital Micrometer",
        category: "Micrometers",
        imageUrl: "https://cdn.pixabay.com/photo/2017/03/05/21/38/micrometer-2122838_1280.jpg",
        description:
          "A micrometer with a digital display used for extremely precise measurement of small distances.",
      },
      {
        id: "eq4",
        name: "Gauge Blocks",
        category: "Gauge Blocks",
        imageUrl: "https://cdn.pixabay.com/photo/2017/01/06/19/15/gauge-blocks-1959371_1280.jpg",
        description:
          "Precision ground and lapped measuring standards used to calibrate measuring equipment.",
      },
      {
        id: "eq5",
        name: "Height Gauge",
        category: "CMM",
        imageUrl: "https://cdn.pixabay.com/photo/2017/08/10/05/13/measuring-instrument-2617381_1280.jpg",
        description:
          "Used for measuring vertical dimensions and marking out workpieces.",
      },
      {
        id: "eq6",
        name: "Dial Calipers",
        category: "Calipers",
        imageUrl: "https://cdn.pixabay.com/photo/2016/06/15/17/17/dial-caliper-1459887_1280.jpg",
        description:
          "Calipers with a dial indicator for precise measurements.",
      },
      {
        id: "eq7",
        name: "Outside Micrometer",
        category: "Micrometers",
        imageUrl: "https://cdn.pixabay.com/photo/2017/02/21/23/56/micrometer-2086211_1280.jpg",
        description:
          "Used to measure the outside dimensions of an object with high accuracy.",
      },
      {
        id: "eq8",
        name: "Slip Gauge Set",
        category: "Gauge Blocks",
        imageUrl: "https://cdn.pixabay.com/photo/2016/11/21/15/38/metal-1845536_1280.jpg",
        description:
          "A set of precision ground blocks used as length standards.",
      },
      {
        id: "eq9",
        name: "Granite Surface Plate",
        category: "Surface Plates",
        imageUrl: "https://cdn.pixabay.com/photo/2015/07/16/11/27/granite-846577_1280.jpg",
        description:
          "A flat reference surface used as the foundation for precision inspection and tooling setup.",
      },
      {
        id: "eq10",
        name: "Optical Comparator",
        category: "Optical",
        imageUrl: "https://cdn.pixabay.com/photo/2019/07/10/11/46/optical-4312302_1280.jpg",
        description:
          "An optical device used to compare a part to its drawing by magnifying the part's profile.",
      },
      {
        id: "eq11",
        name: "Dial Indicator",
        category: "Optical",
        imageUrl: "https://cdn.pixabay.com/photo/2016/11/29/03/53/dial-gauge-1869187_1280.jpg",
        description:
          "A precision instrument used to measure small linear distances and variations in height.",
      },
      {
        id: "eq12",
        name: "Precision Surface Plate",
        category: "Surface Plates",
        imageUrl: "https://cdn.pixabay.com/photo/2015/08/06/00/07/metal-877735_1280.jpg",
        description:
          "Used as a baseline for inspection, layout, and tooling in the metrology lab.",
      }
    ];

    const grid = document.getElementById("equipmentGrid");
    const searchInput = document.getElementById("searchInput");
    const filterCMM = document.getElementById("filterCMM");
    const filterCalipers = document.getElementById("filterCalipers");
    const filterMicrometers = document.getElementById("filterMicrometers");
    const filterGaugeBlocks = document.getElementById("filterGaugeBlocks");
    const filterSurfacePlates = document.getElementById("filterSurfacePlates");
    const filterOptical = document.getElementById("filterOptical");
    const descriptionPanel = document.getElementById("descriptionPanel");

    let selectedEquipmentId = null;

    function filterAndRender() {
      const searchTerm = searchInput.value.trim().toLowerCase();
      const categoriesToShow = [];
      if (filterCMM.checked) categoriesToShow.push("CMM");
      if (filterCalipers.checked) categoriesToShow.push("Calipers");
      if (filterMicrometers.checked) categoriesToShow.push("Micrometers");
      if (filterGaugeBlocks.checked) categoriesToShow.push("Gauge Blocks");
      if (filterSurfacePlates.checked) categoriesToShow.push("Surface Plates");
      if (filterOptical.checked) categoriesToShow.push("Optical");

      const filtered = equipmentData.filter(eq => {
        const matchesSearch = eq.name.toLowerCase().includes(searchTerm);
        const matchesCategory = categoriesToShow.includes(eq.category);
        return matchesSearch && matchesCategory;
      });

      filtered.sort((a, b) => a.name.localeCompare(b.name));

      grid.innerHTML = "";

      if (filtered.length === 0) {
        grid.innerHTML = "<p>No equipment found.</p>";
        descriptionPanel.innerHTML = '<p class="no-selection">Select an equipment to view its description here.</p>';
        selectedEquipmentId = null;
        return;
      }

      filtered.forEach(eq => {
        const card = document.createElement("div");
        card.className = "card";
        card.tabIndex = 0;
        card.setAttribute("role", "button");
        card.setAttribute("aria-pressed", selectedEquipmentId === eq.id ? "true" : "false");
        card.setAttribute("aria-label", `View details of ${eq.name}`);

        const img = document.createElement("img");
        img.src = eq.imageUrl;
        img.alt = eq.name;
        img.loading = "lazy";

        const nameDiv = document.createElement("div");
        nameDiv.className = "card-name";
        nameDiv.textContent = eq.name;

        card.appendChild(img);
        card.appendChild(nameDiv);

        card.addEventListener("click", () => {
          selectedEquipmentId = eq.id;
          renderDescription(eq);
          updateSelection();
        });
        card.addEventListener("keydown", (e) => {
          if (e.key === "Enter" || e.key === " ") {
            e.preventDefault();
            card.click();
          }
        });

        grid.appendChild(card);
      });

      if (!filtered.find(eq => eq.id === selectedEquipmentId)) {
        selectedEquipmentId = null;
        descriptionPanel.innerHTML = '<p class="no-selection">Select an equipment to view its description here.</p>';
      }
      updateSelection();
    }

    function renderDescription(eq) {
      descriptionPanel.innerHTML = `
        <h2>${eq.name}</h2>
        <p><strong>Category:</strong> ${eq.category}</p>
        <p>${eq.description}</p>
      `;
      descriptionPanel.focus();
    }

    function updateSelection() {
      const cards = grid.querySelectorAll(".card");
      cards.forEach(card => {
        const nameDiv = card.querySelector(".card-name");
        if (nameDiv && nameDiv.textContent === getSelectedEquipmentName()) {
          card.setAttribute("aria-pressed", "true");
          card.style.boxShadow = "0 6px 16px rgb(0 0 0 / 0.3)";
        } else {
          card.setAttribute("aria-pressed", "false");
          card.style.boxShadow = "";
        }
      });
    }

    function getSelectedEquipmentName() {
      const selected = equipmentData.find(eq => eq.id === selectedEquipmentId);
      return selected ? selected.name : null;
    }

    // Event listeners
    searchInput.addEventListener("input", filterAndRender);
    filterCMM.addEventListener("change", filterAndRender);
    filterCalipers.addEventListener("change", filterAndRender);
    filterMicrometers.addEventListener("change", filterAndRender);
    filterGaugeBlocks.addEventListener("change", filterAndRender);
    filterSurfacePlates.addEventListener("change", filterAndRender);
    filterOptical.addEventListener("change", filterAndRender);

    filterAndRender();
  </script>
</body>
</html>